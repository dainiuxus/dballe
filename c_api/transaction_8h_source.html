<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdballe: transaction.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libdballe
   &#160;<span id="projectnumber">8.10</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_31d593a920e985cb0786aae3080ddcb0.html">dballe</a></li><li class="navelem"><a class="el" href="dir_4435290e123fa5764d018b537e95018b.html">db</a></li><li class="navelem"><a class="el" href="dir_b63fcb34c3356ffa920ec29e01e31fe4.html">v7</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">transaction.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef DBALLE_DB_V7_TRANSACTION_H</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define DBALLE_DB_V7_TRANSACTION_H</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="db_2db_8h.html">dballe/db/db.h</a>&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;dballe/db/v7/fwd.h&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;dballe/db/v7/data.h&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;dballe/db/v7/batch.h&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="sql_2fwd_8h.html">dballe/sql/fwd.h</a>&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">namespace </span>dballe {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">namespace </span>db {</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">namespace </span>v7 {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="structdballe_1_1db_1_1v7_1_1Transaction.html">   15</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a> : <span class="keyword">public</span> <a class="code" href="classdballe_1_1db_1_1Transaction.html">dballe::db::Transaction</a></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;{</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ae09d83f0916521d2cb93f165951ff61a">   19</a></span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1Repinfo.html">v7::Repinfo</a>* <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ae09d83f0916521d2cb93f165951ff61a">m_repinfo</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ac6dc41fd4fc14f2998461d81d466fe93">   21</a></span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1Station.html">v7::Station</a>* <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ac6dc41fd4fc14f2998461d81d466fe93">m_station</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="structdballe_1_1db_1_1v7_1_1Transaction.html#af369087cd52518486b07bd26093f52d7">   23</a></span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1LevTr.html">v7::LevTr</a>* <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#af369087cd52518486b07bd26093f52d7">m_levtr</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a4387d4d91ec25987c54c218622c1c226">   25</a></span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1StationData.html">v7::StationData</a>* <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a4387d4d91ec25987c54c218622c1c226">m_station_data</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a8a5b80ff84ddf850ee7095c629429337">   27</a></span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1Data.html">v7::Data</a>* <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a8a5b80ff84ddf850ee7095c629429337">m_data</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordtype">void</span> add_msg_to_batch(<a class="code" href="classdballe_1_1db_1_1v7_1_1Tracer.html">Tracer&lt;&gt;</a>&amp; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a7e4c8f631b5e814bdc7a4a9cf6155f65">trc</a>, <span class="keyword">const</span> <a class="code" href="classdballe_1_1Message.html">Message</a>&amp; message, <span class="keyword">const</span> <a class="code" href="classdballe_1_1DBImportOptions.html">dballe::DBImportOptions</a>&amp; opts);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classdballe_1_1db_1_1v7_1_1DB.html">v7::DB</a> <a class="code" href="classdballe_1_1db_1_1v7_1_1DB.html">DB</a>;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    std::shared_ptr&lt;v7::DB&gt; db;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a104a827e76be99c964826e05ef1bd028">   36</a></span>&#160;    <a class="code" href="classdballe_1_1sql_1_1Transaction.html">dballe::sql::Transaction</a>* <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a104a827e76be99c964826e05ef1bd028">sql_transaction</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ac7cf7253327400eb0ba0b733ca3ed2c3">   38</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ac7cf7253327400eb0ba0b733ca3ed2c3">fired</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structdballe_1_1db_1_1v7_1_1Transaction.html#af9989f476081c9274570b4cd847e8678">   40</a></span>&#160;    <a class="code" href="classdballe_1_1db_1_1v7_1_1Batch.html">v7::Batch</a> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#af9989f476081c9274570b4cd847e8678">batch</a>;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a7e4c8f631b5e814bdc7a4a9cf6155f65">   42</a></span>&#160;    <a class="code" href="classdballe_1_1db_1_1v7_1_1Tracer.html">v7::Tracer&lt;v7::trace::Transaction&gt;</a> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a7e4c8f631b5e814bdc7a4a9cf6155f65">trc</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>(std::shared_ptr&lt;v7::DB&gt; db, std::unique_ptr&lt;dballe::sql::Transaction&gt; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a104a827e76be99c964826e05ef1bd028">sql_transaction</a>);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>(<span class="keyword">const</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>(<a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>&amp;&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>&amp; operator=(<a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>&amp;&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    ~<a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>();</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1Repinfo.html">v7::Repinfo</a>&amp; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ad2e7a7210e088ea1a988ffd6420d1a7c">repinfo</a>();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1Station.html">v7::Station</a>&amp; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a55f96a672548b25a575f83c927d3acfa">station</a>();</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1LevTr.html">v7::LevTr</a>&amp; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a1d41a5d09e8d12aa3a17d4d33d3cd3fa">levtr</a>();</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1StationData.html">v7::StationData</a>&amp; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#af2fff2321baca00c8f6854a60adf2977">station_data</a>();</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="structdballe_1_1db_1_1v7_1_1Data.html">v7::Data</a>&amp; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#aaa26f94af4b8a7e6e8402781524d1870">data</a>();</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ac4203da1347cfd7a33560834f472d4d5">commit</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a9dc89059c2558c44673fdb15ceefc018">rollback</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ab8491598a1f6049900a6fb42f525d087">rollback_nothrow</a>() noexcept override;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a429778b5d84298e036a5b3f4ae25a531">clear_cached_state</a>() override;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    std::unique_ptr&lt;dballe::<a class="code" href="structdballe_1_1db_1_1CursorStation.html">CursorStation</a>&gt; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a20d1a2e0090d5f93f6949b3987bb1472">query_stations</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    std::unique_ptr&lt;dballe::<a class="code" href="structdballe_1_1db_1_1CursorStationData.html">CursorStationData</a>&gt; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a9390e8cf6226b29f824c46c3dc7efd01">query_station_data</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query) override;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    std::unique_ptr&lt;dballe::<a class="code" href="structdballe_1_1db_1_1CursorData.html">CursorData</a>&gt; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a5e90d9e83ae1a93e97536af8a2704cb8">query_data</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    std::unique_ptr&lt;dballe::<a class="code" href="structdballe_1_1db_1_1CursorSummary.html">CursorSummary</a>&gt; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a7206edd8c2dbac56269cbc54a70a4696">query_summary</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    std::unique_ptr&lt;dballe::<a class="code" href="classdballe_1_1CursorMessage.html">CursorMessage</a>&gt; <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#afd55c56fac06011b3055bab10e20f76e">query_messages</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a44d6c5ddfd27bbfb0d116e8cb41ff2fd">attr_query_station</a>(<span class="keywordtype">int</span> data_id, std::function&lt;<span class="keywordtype">void</span>(std::unique_ptr&lt;wreport::Var&gt;)&gt; dest) override;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a1209415a77f7392126b3b964df526128">attr_query_data</a>(<span class="keywordtype">int</span> data_id, std::function&lt;<span class="keywordtype">void</span>(std::unique_ptr&lt;wreport::Var&gt;)&gt; dest) override;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a27656882dd0d78b7c0140caa038a53f6">insert_station_data</a>(dballe::<a class="code" href="structdballe_1_1db_1_1v7_1_1Data.html">Data</a>&amp; vals, const dballe::<a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp; opts=dballe::<a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>::defaults) override;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#aca2f50eaa6af0e16a31288d57b1f44d5">insert_data</a>(dballe::<a class="code" href="structdballe_1_1db_1_1v7_1_1Data.html">Data</a>&amp; vals, const dballe::<a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp; opts=dballe::<a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>::defaults) override;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a6173d7aabf8d2eb07f75c4c7730d2f65">remove_station_data</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query) override;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a066a204606399e623a9a6eca333b4306">remove_data</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query) override;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordtype">void</span> remove_station_data_by_id(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">void</span> remove_data_by_id(<span class="keywordtype">int</span> <span class="keywordtype">id</span>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a00d85337cb986430d54b3b6202dbd883">remove_all</a>() override;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#abb5c2c072a8612af775cc0182189902a">attr_insert_station</a>(<span class="keywordtype">int</span> data_id, const <a class="code" href="structdballe_1_1Values.html">Values</a>&amp; attrs) override;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a502f292c22ebfc1bff5a874548087c32">attr_insert_data</a>(<span class="keywordtype">int</span> data_id, const <a class="code" href="structdballe_1_1Values.html">Values</a>&amp; attrs) override;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ac66078afb5233069465f30a93e60f27d">attr_remove_station</a>(<span class="keywordtype">int</span> data_id, const db::AttrList&amp; attrs) override;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ab5b44713a0ffcedc8cce4fedb582142b">attr_remove_data</a>(<span class="keywordtype">int</span> data_id, const db::AttrList&amp; attrs) override;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#aac1801aca4b0c652de0f03bdfe7c2253">import_message</a>(const <a class="code" href="classdballe_1_1Message.html">Message</a>&amp; message, const dballe::<a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp; opts) override;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a3adf68717951f3f0280e35dfea92d98a">import_messages</a>(const std::vector&lt;std::shared_ptr&lt;<a class="code" href="classdballe_1_1Message.html">Message</a>&gt;&gt;&amp; msgs, const dballe::<a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp; opts) override;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a70c0a5fd3b2f64f4d345595bdd6bdc0a">update_repinfo</a>(const <span class="keywordtype">char</span>* repinfo_file, <span class="keywordtype">int</span>* added, <span class="keywordtype">int</span>* deleted, <span class="keywordtype">int</span>* updated) override;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    static <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>&amp; downcast(dballe::db::<a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a>&amp; transaction);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#a5140dc46f9481c3d48194899b21ea598">dump</a>(FILE* out) override;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;};</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structdballe_1_1db_1_1v7_1_1TestTransaction.html">   96</a></span>&#160;struct <a class="code" href="structdballe_1_1db_1_1v7_1_1TestTransaction.html">TestTransaction</a> : public <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html">Transaction</a></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keyword">using</span> Transaction::Transaction;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structdballe_1_1db_1_1v7_1_1Transaction.html#ac4203da1347cfd7a33560834f472d4d5">commit</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;};</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a5e90d9e83ae1a93e97536af8a2704cb8"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a5e90d9e83ae1a93e97536af8a2704cb8">dballe::db::v7::Transaction::query_data</a></div><div class="ttdeci">std::unique_ptr&lt; dballe::CursorData &gt; query_data(const Query &amp;query)</div><div class="ttdoc">Query the database.</div></div>
<div class="ttc" id="sql_2fwd_8h_html"><div class="ttname"><a href="sql_2fwd_8h.html">fwd.h</a></div><div class="ttdoc">Forward declarations for public dballe/sql names.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_ae09d83f0916521d2cb93f165951ff61a"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#ae09d83f0916521d2cb93f165951ff61a">dballe::db::v7::Transaction::m_repinfo</a></div><div class="ttdeci">v7::Repinfo * m_repinfo</div><div class="ttdoc">Report information.</div><div class="ttdef"><b>Definition:</b> transaction.h:19</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_ab5b44713a0ffcedc8cce4fedb582142b"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#ab5b44713a0ffcedc8cce4fedb582142b">dballe::db::v7::Transaction::attr_remove_data</a></div><div class="ttdeci">void attr_remove_data(int data_id, const db::AttrList &amp;attrs) override</div><div class="ttdoc">Delete attributes from a data value.</div></div>
<div class="ttc" id="classdballe_1_1DBImportOptions_html"><div class="ttname"><a href="classdballe_1_1DBImportOptions.html">dballe::DBImportOptions</a></div><div class="ttdoc">Options controlling how messages are imported in the database.</div><div class="ttdef"><b>Definition:</b> db.h:64</div></div>
<div class="ttc" id="structdballe_1_1db_1_1CursorSummary_html"><div class="ttname"><a href="structdballe_1_1db_1_1CursorSummary.html">dballe::db::CursorSummary</a></div><div class="ttdef"><b>Definition:</b> db/db.h:137</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_ac4203da1347cfd7a33560834f472d4d5"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#ac4203da1347cfd7a33560834f472d4d5">dballe::db::v7::Transaction::commit</a></div><div class="ttdeci">void commit() override</div><div class="ttdoc">Commit this transaction.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a1209415a77f7392126b3b964df526128"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a1209415a77f7392126b3b964df526128">dballe::db::v7::Transaction::attr_query_data</a></div><div class="ttdeci">void attr_query_data(int data_id, std::function&lt; void(std::unique_ptr&lt; wreport::Var &gt;)&gt; dest) override</div><div class="ttdoc">Query attributes on a data value.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a7e4c8f631b5e814bdc7a4a9cf6155f65"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a7e4c8f631b5e814bdc7a4a9cf6155f65">dballe::db::v7::Transaction::trc</a></div><div class="ttdeci">v7::Tracer&lt; v7::trace::Transaction &gt; trc</div><div class="ttdoc">Tracing system.</div><div class="ttdef"><b>Definition:</b> transaction.h:42</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_aac1801aca4b0c652de0f03bdfe7c2253"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#aac1801aca4b0c652de0f03bdfe7c2253">dballe::db::v7::Transaction::import_message</a></div><div class="ttdeci">void import_message(const Message &amp;message, const dballe::DBImportOptions &amp;opts) override</div><div class="ttdoc">Import a Message into the DB-All.e database.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1CursorStationData_html"><div class="ttname"><a href="structdballe_1_1db_1_1CursorStationData.html">dballe::db::CursorStationData</a></div><div class="ttdef"><b>Definition:</b> db/db.h:71</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a55f96a672548b25a575f83c927d3acfa"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a55f96a672548b25a575f83c927d3acfa">dballe::db::v7::Transaction::station</a></div><div class="ttdeci">v7::Station &amp; station()</div><div class="ttdoc">Access the station table.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a27656882dd0d78b7c0140caa038a53f6"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a27656882dd0d78b7c0140caa038a53f6">dballe::db::v7::Transaction::insert_station_data</a></div><div class="ttdeci">void insert_station_data(dballe::Data &amp;vals, const dballe::DBInsertOptions &amp;opts=dballe::DBInsertOptions::defaults) override</div><div class="ttdoc">Insert station values into the database.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a5140dc46f9481c3d48194899b21ea598"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a5140dc46f9481c3d48194899b21ea598">dballe::db::v7::Transaction::dump</a></div><div class="ttdeci">void dump(FILE *out) override</div><div class="ttdoc">Dump the entire contents of the database to an output stream.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_ad2e7a7210e088ea1a988ffd6420d1a7c"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#ad2e7a7210e088ea1a988ffd6420d1a7c">dballe::db::v7::Transaction::repinfo</a></div><div class="ttdeci">v7::Repinfo &amp; repinfo()</div><div class="ttdoc">Access the repinfo table.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a429778b5d84298e036a5b3f4ae25a531"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a429778b5d84298e036a5b3f4ae25a531">dballe::db::v7::Transaction::clear_cached_state</a></div><div class="ttdeci">void clear_cached_state() override</div><div class="ttdoc">Clear state information cached during the transaction.</div></div>
<div class="ttc" id="db_2db_8h_html"><div class="ttname"><a href="db_2db_8h.html">db.h</a></div><div class="ttdoc">Functions used to connect to DB-All.e and insert, query and delete data.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_abb5c2c072a8612af775cc0182189902a"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#abb5c2c072a8612af775cc0182189902a">dballe::db::v7::Transaction::attr_insert_station</a></div><div class="ttdeci">void attr_insert_station(int data_id, const Values &amp;attrs) override</div><div class="ttdoc">Insert new attributes on a station value.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Repinfo_html"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Repinfo.html">dballe::db::v7::Repinfo</a></div><div class="ttdoc">Fast cached access to the repinfo table.</div><div class="ttdef"><b>Definition:</b> repinfo.h:71</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_afd55c56fac06011b3055bab10e20f76e"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#afd55c56fac06011b3055bab10e20f76e">dballe::db::v7::Transaction::query_messages</a></div><div class="ttdeci">std::unique_ptr&lt; dballe::CursorMessage &gt; query_messages(const Query &amp;query)</div><div class="ttdoc">Query the database returning the matching data as Message objects.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a9390e8cf6226b29f824c46c3dc7efd01"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a9390e8cf6226b29f824c46c3dc7efd01">dballe::db::v7::Transaction::query_station_data</a></div><div class="ttdeci">std::unique_ptr&lt; dballe::CursorStationData &gt; query_station_data(const Query &amp;query) override</div><div class="ttdoc">Query the station variables in the database.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Station_html"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Station.html">dballe::db::v7::Station</a></div><div class="ttdef"><b>Definition:</b> station.h:24</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a3adf68717951f3f0280e35dfea92d98a"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a3adf68717951f3f0280e35dfea92d98a">dballe::db::v7::Transaction::import_messages</a></div><div class="ttdeci">void import_messages(const std::vector&lt; std::shared_ptr&lt; Message &gt;&gt; &amp;msgs, const dballe::DBImportOptions &amp;opts) override</div><div class="ttdoc">Import Messages into the DB-All.e database.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_ac6dc41fd4fc14f2998461d81d466fe93"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#ac6dc41fd4fc14f2998461d81d466fe93">dballe::db::v7::Transaction::m_station</a></div><div class="ttdeci">v7::Station * m_station</div><div class="ttdoc">Station information.</div><div class="ttdef"><b>Definition:</b> transaction.h:21</div></div>
<div class="ttc" id="classdballe_1_1CursorMessage_html"><div class="ttname"><a href="classdballe_1_1CursorMessage.html">dballe::CursorMessage</a></div><div class="ttdoc">Cursor iterating over messages.</div><div class="ttdef"><b>Definition:</b> cursor.h:117</div></div>
<div class="ttc" id="classdballe_1_1DBInsertOptions_html"><div class="ttname"><a href="classdballe_1_1DBInsertOptions.html">dballe::DBInsertOptions</a></div><div class="ttdoc">Options controlling how values are inserted in the database.</div><div class="ttdef"><b>Definition:</b> db.h:122</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a4387d4d91ec25987c54c218622c1c226"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a4387d4d91ec25987c54c218622c1c226">dballe::db::v7::Transaction::m_station_data</a></div><div class="ttdeci">v7::StationData * m_station_data</div><div class="ttdoc">Station data.</div><div class="ttdef"><b>Definition:</b> transaction.h:25</div></div>
<div class="ttc" id="structdballe_1_1db_1_1CursorStation_html"><div class="ttname"><a href="structdballe_1_1db_1_1CursorStation.html">dballe::db::CursorStation</a></div><div class="ttdef"><b>Definition:</b> db/db.h:58</div></div>
<div class="ttc" id="structdballe_1_1db_1_1CursorData_html"><div class="ttname"><a href="structdballe_1_1db_1_1CursorData.html">dballe::db::CursorData</a></div><div class="ttdef"><b>Definition:</b> db/db.h:104</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_ac7cf7253327400eb0ba0b733ca3ed2c3"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#ac7cf7253327400eb0ba0b733ca3ed2c3">dballe::db::v7::Transaction::fired</a></div><div class="ttdeci">bool fired</div><div class="ttdoc">True if commit or rollback have already been called on this transaction.</div><div class="ttdef"><b>Definition:</b> transaction.h:38</div></div>
<div class="ttc" id="classdballe_1_1Message_html"><div class="ttname"><a href="classdballe_1_1Message.html">dballe::Message</a></div><div class="ttdoc">A bulletin that has been decoded and physically interpreted.</div><div class="ttdef"><b>Definition:</b> message.h:28</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a502f292c22ebfc1bff5a874548087c32"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a502f292c22ebfc1bff5a874548087c32">dballe::db::v7::Transaction::attr_insert_data</a></div><div class="ttdeci">void attr_insert_data(int data_id, const Values &amp;attrs) override</div><div class="ttdoc">Insert new attributes on a data value.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a7206edd8c2dbac56269cbc54a70a4696"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a7206edd8c2dbac56269cbc54a70a4696">dballe::db::v7::Transaction::query_summary</a></div><div class="ttdeci">std::unique_ptr&lt; dballe::CursorSummary &gt; query_summary(const Query &amp;query)</div><div class="ttdoc">Query a summary of what the result would be for a query.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html">dballe::db::v7::Transaction</a></div><div class="ttdef"><b>Definition:</b> transaction.h:15</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a00d85337cb986430d54b3b6202dbd883"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a00d85337cb986430d54b3b6202dbd883">dballe::db::v7::Transaction::remove_all</a></div><div class="ttdeci">void remove_all() override</div><div class="ttdoc">Remove all data from the database.</div></div>
<div class="ttc" id="classdballe_1_1db_1_1Transaction_html"><div class="ttname"><a href="classdballe_1_1db_1_1Transaction.html">dballe::db::Transaction</a></div><div class="ttdef"><b>Definition:</b> db/db.h:151</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_af2fff2321baca00c8f6854a60adf2977"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#af2fff2321baca00c8f6854a60adf2977">dballe::db::v7::Transaction::station_data</a></div><div class="ttdeci">v7::StationData &amp; station_data()</div><div class="ttdoc">Access the station_data table.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a9dc89059c2558c44673fdb15ceefc018"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a9dc89059c2558c44673fdb15ceefc018">dballe::db::v7::Transaction::rollback</a></div><div class="ttdeci">void rollback() override</div><div class="ttdoc">Roll back this transaction.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_aaa26f94af4b8a7e6e8402781524d1870"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#aaa26f94af4b8a7e6e8402781524d1870">dballe::db::v7::Transaction::data</a></div><div class="ttdeci">v7::Data &amp; data()</div><div class="ttdoc">Access the data table.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1TestTransaction_html"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1TestTransaction.html">dballe::db::v7::TestTransaction</a></div><div class="ttdef"><b>Definition:</b> transaction.h:96</div></div>
<div class="ttc" id="classdballe_1_1sql_1_1Transaction_html"><div class="ttname"><a href="classdballe_1_1sql_1_1Transaction.html">dballe::sql::Transaction</a></div><div class="ttdoc">A RAII transaction interface for SQL transactions.</div><div class="ttdef"><b>Definition:</b> sql.h:121</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a8a5b80ff84ddf850ee7095c629429337"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a8a5b80ff84ddf850ee7095c629429337">dballe::db::v7::Transaction::m_data</a></div><div class="ttdeci">v7::Data * m_data</div><div class="ttdoc">Variable data.</div><div class="ttdef"><b>Definition:</b> transaction.h:27</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1LevTr_html"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1LevTr.html">dballe::db::v7::LevTr</a></div><div class="ttdoc">Precompiled queries to manipulate the lev_tr table.</div><div class="ttdef"><b>Definition:</b> levtr.h:20</div></div>
<div class="ttc" id="classdballe_1_1db_1_1v7_1_1Tracer_html"><div class="ttname"><a href="classdballe_1_1db_1_1v7_1_1Tracer.html">dballe::db::v7::Tracer</a></div><div class="ttdoc">Smart pointer for trace::Step objects, which calls done() when going out of scope.</div><div class="ttdef"><b>Definition:</b> db/v7/fwd.h:45</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a6173d7aabf8d2eb07f75c4c7730d2f65"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a6173d7aabf8d2eb07f75c4c7730d2f65">dballe::db::v7::Transaction::remove_station_data</a></div><div class="ttdeci">void remove_station_data(const Query &amp;query) override</div><div class="ttdoc">Remove data from the database.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a104a827e76be99c964826e05ef1bd028"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a104a827e76be99c964826e05ef1bd028">dballe::db::v7::Transaction::sql_transaction</a></div><div class="ttdeci">dballe::sql::Transaction * sql_transaction</div><div class="ttdoc">SQL-side transaction.</div><div class="ttdef"><b>Definition:</b> transaction.h:36</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1StationData_html"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1StationData.html">dballe::db::v7::StationData</a></div><div class="ttdef"><b>Definition:</b> db/v7/data.h:139</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_af369087cd52518486b07bd26093f52d7"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#af369087cd52518486b07bd26093f52d7">dballe::db::v7::Transaction::m_levtr</a></div><div class="ttdeci">v7::LevTr * m_levtr</div><div class="ttdoc">Level/timerange information.</div><div class="ttdef"><b>Definition:</b> transaction.h:23</div></div>
<div class="ttc" id="classdballe_1_1db_1_1v7_1_1DB_html"><div class="ttname"><a href="classdballe_1_1db_1_1v7_1_1DB.html">dballe::db::v7::DB</a></div><div class="ttdoc">DB-ALLe database connection for database format V7.</div><div class="ttdef"><b>Definition:</b> db/v7/db.h:20</div></div>
<div class="ttc" id="classdballe_1_1db_1_1v7_1_1Batch_html"><div class="ttname"><a href="classdballe_1_1db_1_1v7_1_1Batch.html">dballe::db::v7::Batch</a></div><div class="ttdef"><b>Definition:</b> batch.h:18</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_aca2f50eaa6af0e16a31288d57b1f44d5"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#aca2f50eaa6af0e16a31288d57b1f44d5">dballe::db::v7::Transaction::insert_data</a></div><div class="ttdeci">void insert_data(dballe::Data &amp;vals, const dballe::DBInsertOptions &amp;opts=dballe::DBInsertOptions::defaults) override</div><div class="ttdoc">Insert data values into the database.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a44d6c5ddfd27bbfb0d116e8cb41ff2fd"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a44d6c5ddfd27bbfb0d116e8cb41ff2fd">dballe::db::v7::Transaction::attr_query_station</a></div><div class="ttdeci">void attr_query_station(int data_id, std::function&lt; void(std::unique_ptr&lt; wreport::Var &gt;)&gt; dest) override</div><div class="ttdoc">Query attributes on a station value.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a70c0a5fd3b2f64f4d345595bdd6bdc0a"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a70c0a5fd3b2f64f4d345595bdd6bdc0a">dballe::db::v7::Transaction::update_repinfo</a></div><div class="ttdeci">void update_repinfo(const char *repinfo_file, int *added, int *deleted, int *updated) override</div><div class="ttdoc">Update the repinfo table in the database, with the data found in the given file.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a20d1a2e0090d5f93f6949b3987bb1472"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a20d1a2e0090d5f93f6949b3987bb1472">dballe::db::v7::Transaction::query_stations</a></div><div class="ttdeci">std::unique_ptr&lt; dballe::CursorStation &gt; query_stations(const Query &amp;query)</div><div class="ttdoc">Start a query on the station variables archive.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a066a204606399e623a9a6eca333b4306"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a066a204606399e623a9a6eca333b4306">dballe::db::v7::Transaction::remove_data</a></div><div class="ttdeci">void remove_data(const Query &amp;query) override</div><div class="ttdoc">Remove data from the database.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_ac66078afb5233069465f30a93e60f27d"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#ac66078afb5233069465f30a93e60f27d">dballe::db::v7::Transaction::attr_remove_station</a></div><div class="ttdeci">void attr_remove_station(int data_id, const db::AttrList &amp;attrs) override</div><div class="ttdoc">Delete attributes from a station value.</div></div>
<div class="ttc" id="classdballe_1_1Query_html"><div class="ttname"><a href="classdballe_1_1Query.html">dballe::Query</a></div><div class="ttdoc">Query used to filter DB-All.e data.</div><div class="ttdef"><b>Definition:</b> query.h:14</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_ab8491598a1f6049900a6fb42f525d087"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#ab8491598a1f6049900a6fb42f525d087">dballe::db::v7::Transaction::rollback_nothrow</a></div><div class="ttdeci">void rollback_nothrow() noexcept override</div><div class="ttdoc">Roll back this transaction.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_af9989f476081c9274570b4cd847e8678"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#af9989f476081c9274570b4cd847e8678">dballe::db::v7::Transaction::batch</a></div><div class="ttdeci">v7::Batch batch</div><div class="ttdoc">Batch importer.</div><div class="ttdef"><b>Definition:</b> transaction.h:40</div></div>
<div class="ttc" id="structdballe_1_1Values_html"><div class="ttname"><a href="structdballe_1_1Values.html">dballe::Values</a></div><div class="ttdoc">Collection of Value objects, indexed by wreport::Varcode.</div><div class="ttdef"><b>Definition:</b> values.h:176</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Transaction_html_a1d41a5d09e8d12aa3a17d4d33d3cd3fa"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Transaction.html#a1d41a5d09e8d12aa3a17d4d33d3cd3fa">dballe::db::v7::Transaction::levtr</a></div><div class="ttdeci">v7::LevTr &amp; levtr()</div><div class="ttdoc">Access the levtr table.</div></div>
<div class="ttc" id="structdballe_1_1db_1_1v7_1_1Data_html"><div class="ttname"><a href="structdballe_1_1db_1_1v7_1_1Data.html">dballe::db::v7::Data</a></div><div class="ttdef"><b>Definition:</b> db/v7/data.h:155</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
