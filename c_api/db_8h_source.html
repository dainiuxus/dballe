<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdballe: db.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libdballe
   &#160;<span id="projectnumber">8.12</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_31d593a920e985cb0786aae3080ddcb0.html">dballe</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">db.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef DBALLE_DB_H</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define DBALLE_DB_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;dballe/fwd.h&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;wreport/var.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">namespace </span>dballe {</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="classdballe_1_1DBConnectOptions.html">   17</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdballe_1_1DBConnectOptions.html">DBConnectOptions</a></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;{</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="classdballe_1_1DBConnectOptions.html#a27a520bd223a7ee907fb7cc8ba3fd782">   25</a></span>&#160;    std::string <a class="code" href="classdballe_1_1DBConnectOptions.html#a27a520bd223a7ee907fb7cc8ba3fd782">url</a>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="classdballe_1_1DBConnectOptions.html#ae929e2af142dbc3a4cf2362a369b6cee">   28</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classdballe_1_1DBConnectOptions.html#ae929e2af142dbc3a4cf2362a369b6cee">wipe</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="classdballe_1_1DBConnectOptions.html#a1564d05975144967bc64bf5ff0c6cb2d">   36</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1DBConnectOptions.html#a1564d05975144967bc64bf5ff0c6cb2d">reset_actions</a>();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classdballe_1_1DBConnectOptions.html#a697b4319a1b7c00b6460dc30922d7c16">   41</a></span>&#160;    <span class="keyword">static</span> std::unique_ptr&lt;DBConnectOptions&gt; <a class="code" href="classdballe_1_1DBConnectOptions.html#a697b4319a1b7c00b6460dc30922d7c16">create</a>(<span class="keyword">const</span> std::string&amp; <a class="code" href="classdballe_1_1DBConnectOptions.html#a27a520bd223a7ee907fb7cc8ba3fd782">url</a>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classdballe_1_1DBConnectOptions.html#aedeccb349f6bca6f4d33facecd379026">   47</a></span>&#160;    <span class="keyword">static</span> std::unique_ptr&lt;DBConnectOptions&gt; <a class="code" href="classdballe_1_1DBConnectOptions.html#aedeccb349f6bca6f4d33facecd379026">test_create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* backend=<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="classdballe_1_1DBConnectOptions.html">DBConnectOptions</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="classdballe_1_1DBConnectOptions.html">DBConnectOptions</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1DBConnectOptions.html">DBConnectOptions</a>&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classdballe_1_1DBConnectOptions.html">DBConnectOptions</a>(<a class="code" href="classdballe_1_1DBConnectOptions.html">DBConnectOptions</a>&amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="classdballe_1_1DBConnectOptions.html">DBConnectOptions</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classdballe_1_1DBConnectOptions.html">DBConnectOptions</a>&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classdballe_1_1DBConnectOptions.html">DBConnectOptions</a>&amp; operator=(<a class="code" href="classdballe_1_1DBConnectOptions.html">DBConnectOptions</a>&amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;};</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classdballe_1_1DBImportOptions.html">   64</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classdballe_1_1DBImportOptions.html#a60761c3d0a12e177a288dd398aee01de">   73</a></span>&#160;    std::string <a class="code" href="classdballe_1_1DBImportOptions.html#a60761c3d0a12e177a288dd398aee01de">report</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classdballe_1_1DBImportOptions.html#aa142d0a9ce5e20deebfc58390524318c">   76</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classdballe_1_1DBImportOptions.html#aa142d0a9ce5e20deebfc58390524318c">import_attributes</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="classdballe_1_1DBImportOptions.html#a6a68d6b07320c0ff4450b159f959010e">   85</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classdballe_1_1DBImportOptions.html#a6a68d6b07320c0ff4450b159f959010e">update_station</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classdballe_1_1DBImportOptions.html#a3941ac242723d2b4b4cc04eb9801ffcb">   94</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classdballe_1_1DBImportOptions.html#a3941ac242723d2b4b4cc04eb9801ffcb">overwrite</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="classdballe_1_1DBImportOptions.html#a556dea819c58dbef493a5528ea0bbe09">   99</a></span>&#160;    std::vector&lt;wreport::Varcode&gt; <a class="code" href="classdballe_1_1DBImportOptions.html#a556dea819c58dbef493a5528ea0bbe09">varlist</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keyword">static</span> std::unique_ptr&lt;DBImportOptions&gt; create();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a> defaults;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classdballe_1_1DB.html">DB</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classdballe_1_1Transaction.html">Transaction</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>(<a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp; operator=(<a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;};</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classdballe_1_1DBInsertOptions.html">  122</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classdballe_1_1DBInsertOptions.html#a02e9edb5d4bbb4199f38c49c0929ffe9">  126</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classdballe_1_1DBInsertOptions.html#a02e9edb5d4bbb4199f38c49c0929ffe9">can_replace</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classdballe_1_1DBInsertOptions.html#a8446961bc09c88628e98ac0bd6afd0eb">  134</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classdballe_1_1DBInsertOptions.html#a8446961bc09c88628e98ac0bd6afd0eb">can_add_stations</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">static</span> std::unique_ptr&lt;DBInsertOptions&gt; create();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a> defaults;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>(<a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp; operator=(<a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp;&amp;) = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;};</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html">  149</a></span>&#160;<span class="keyword">class </span><a class="code" href="classdballe_1_1Transaction.html">Transaction</a> : <span class="keyword">public</span> std::enable_shared_from_this&lt;Transaction&gt;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keyword">virtual</span> ~<a class="code" href="classdballe_1_1Transaction.html">Transaction</a>();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#ad3f92251e33c49be6b85407e664a6cda">  155</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1Transaction.html#ad3f92251e33c49be6b85407e664a6cda">commit</a>() = 0;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#afec321babcbddaf238ff54ecc75a4c07">  158</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1Transaction.html#afec321babcbddaf238ff54ecc75a4c07">rollback</a>() = 0;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#adc27d0405cd5826192fd71e585ab643d">  161</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1Transaction.html#adc27d0405cd5826192fd71e585ab643d">rollback_nothrow</a>() noexcept = 0;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#a937fd003e43822769926f72256287134">  176</a></span>&#160;    virtual std::unique_ptr&lt;<a class="code" href="classdballe_1_1CursorStation.html">CursorStation</a>&gt; <a class="code" href="classdballe_1_1Transaction.html#a937fd003e43822769926f72256287134">query_stations</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query) = 0;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#ade40f6d2fa211279790c8dd0616ce26d">  189</a></span>&#160;    virtual std::unique_ptr&lt;<a class="code" href="classdballe_1_1CursorStationData.html">CursorStationData</a>&gt; <a class="code" href="classdballe_1_1Transaction.html#ade40f6d2fa211279790c8dd0616ce26d">query_station_data</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query) = 0;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#af461cd377b1a6e3f1d00e7b52f749724">  202</a></span>&#160;    virtual std::unique_ptr&lt;<a class="code" href="classdballe_1_1CursorData.html">CursorData</a>&gt; <a class="code" href="classdballe_1_1Transaction.html#af461cd377b1a6e3f1d00e7b52f749724">query_data</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query) = 0;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#ad622c60ec0d9141d172bb5278a6a992c">  212</a></span>&#160;    virtual std::unique_ptr&lt;<a class="code" href="classdballe_1_1CursorSummary.html">CursorSummary</a>&gt; <a class="code" href="classdballe_1_1Transaction.html#ad622c60ec0d9141d172bb5278a6a992c">query_summary</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query) = 0;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#af131269c54594b76983f37a1c3226291">  222</a></span>&#160;    virtual std::unique_ptr&lt;<a class="code" href="classdballe_1_1CursorMessage.html">CursorMessage</a>&gt; <a class="code" href="classdballe_1_1Transaction.html#af131269c54594b76983f37a1c3226291">query_messages</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query) = 0;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#ae9605daaf2582ad7f8806c95ec0c6182">  230</a></span>&#160;    virtual <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1Transaction.html#ae9605daaf2582ad7f8806c95ec0c6182">remove_all</a>() = 0;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#ada9963b0a96e69fe464f2ea9c8ed3d25">  238</a></span>&#160;    virtual <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1Transaction.html#ada9963b0a96e69fe464f2ea9c8ed3d25">remove_station_data</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query) = 0;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#a4b461ccc14061c66ef8545d1704b5090">  246</a></span>&#160;    virtual <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1Transaction.html#a4b461ccc14061c66ef8545d1704b5090">remove_data</a>(const <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query) = 0;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#ae1280aad235a65395fdc052114056971">  256</a></span>&#160;    virtual <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1Transaction.html#ae1280aad235a65395fdc052114056971">import_message</a>(const <a class="code" href="classdballe_1_1Message.html">Message</a>&amp; message, const <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp; opts=<a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>::defaults) = 0;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#aca6a7a92bfc89c16e6c71333de2f4728">  266</a></span>&#160;    virtual <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1Transaction.html#aca6a7a92bfc89c16e6c71333de2f4728">import_messages</a>(const std::vector&lt;std::shared_ptr&lt;<a class="code" href="classdballe_1_1Message.html">Message</a>&gt;&gt;&amp; messages, const <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp; opts=<a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>::defaults);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#a86fa09d2e05c16b8db73a2afd848497b">  279</a></span>&#160;    virtual <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1Transaction.html#a86fa09d2e05c16b8db73a2afd848497b">insert_station_data</a>(<a class="code" href="classdballe_1_1Data.html">Data</a>&amp; data, const <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp; opts=<a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>::defaults) = 0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="classdballe_1_1Transaction.html#a0f616c83a0b6b8a49aad1f414e96eeb8">  292</a></span>&#160;    virtual <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1Transaction.html#a0f616c83a0b6b8a49aad1f414e96eeb8">insert_data</a>(<a class="code" href="classdballe_1_1Data.html">Data</a>&amp; data, const <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp; opts=<a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>::defaults) = 0;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;};</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html">  296</a></span>&#160;class <a class="code" href="classdballe_1_1DB.html">DB</a>: public std::enable_shared_from_this&lt;<a class="code" href="classdballe_1_1DB.html">DB</a>&gt;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keyword">virtual</span> ~<a class="code" href="classdballe_1_1DB.html">DB</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#a9b3feb81a3d9101d75cd914bf9981cd3">  304</a></span>&#160;    <span class="keyword">static</span> std::shared_ptr&lt;DB&gt; <a class="code" href="classdballe_1_1DB.html#a9b3feb81a3d9101d75cd914bf9981cd3">connect</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1DBConnectOptions.html">DBConnectOptions</a>&amp; opts);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#ac38c9da231c7a95b0b801ab3499166d6">  310</a></span>&#160;    <span class="keyword">virtual</span> std::shared_ptr&lt;dballe::Transaction&gt; <a class="code" href="classdballe_1_1DB.html#ac38c9da231c7a95b0b801ab3499166d6">transaction</a>(<span class="keywordtype">bool</span> readonly=<span class="keyword">false</span>) = 0;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#a520bdf757706c9130926f6194201bbf8">  325</a></span>&#160;    <span class="keyword">virtual</span> std::unique_ptr&lt;CursorStation&gt; <a class="code" href="classdballe_1_1DB.html#a520bdf757706c9130926f6194201bbf8">query_stations</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#a042eee48a079108eef10da6fddc66642">  338</a></span>&#160;    <span class="keyword">virtual</span> std::unique_ptr&lt;CursorStationData&gt; <a class="code" href="classdballe_1_1DB.html#a042eee48a079108eef10da6fddc66642">query_station_data</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#a014934becffcb1626a23318928a990b7">  351</a></span>&#160;    <span class="keyword">virtual</span> std::unique_ptr&lt;CursorData&gt; <a class="code" href="classdballe_1_1DB.html#a014934becffcb1626a23318928a990b7">query_data</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#a9ab1e39d7a23d507cdfb8e6bb2c06b48">  361</a></span>&#160;    <span class="keyword">virtual</span> std::unique_ptr&lt;CursorSummary&gt; <a class="code" href="classdballe_1_1DB.html#a9ab1e39d7a23d507cdfb8e6bb2c06b48">query_summary</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#accd40f7fd09f114d4b39ee36f872329e">  371</a></span>&#160;    <span class="keyword">virtual</span> std::unique_ptr&lt;CursorMessage&gt; <a class="code" href="classdballe_1_1DB.html#accd40f7fd09f114d4b39ee36f872329e">query_messages</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#a6053875d0e2e4c66cbae06320aa94aca">  379</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1DB.html#a6053875d0e2e4c66cbae06320aa94aca">remove_all</a>();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#a0b087017defd50e3d6517bc4665553af">  387</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1DB.html#a0b087017defd50e3d6517bc4665553af">remove_station_data</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#a5079d562c3a2181d1f7fade844cf4f88">  395</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1DB.html#a5079d562c3a2181d1f7fade844cf4f88">remove_data</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1Query.html">Query</a>&amp; query);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#a0056aac1a7d2494e5d2162386f7bae2b">  405</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1DB.html#a0056aac1a7d2494e5d2162386f7bae2b">import_message</a>(<span class="keyword">const</span> <a class="code" href="classdballe_1_1Message.html">Message</a>&amp; message, <span class="keyword">const</span> <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp; opts=DBImportOptions::defaults);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#a637d79b2f3865483b1d3f7e0813082d7">  415</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1DB.html#a637d79b2f3865483b1d3f7e0813082d7">import_messages</a>(<span class="keyword">const</span> std::vector&lt;std::shared_ptr&lt;Message&gt;&gt;&amp; messages, <span class="keyword">const</span> <a class="code" href="classdballe_1_1DBImportOptions.html">DBImportOptions</a>&amp; opts=DBImportOptions::defaults);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#aaab812a3d2dbea710b692dbec4fdbf89">  428</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1DB.html#aaab812a3d2dbea710b692dbec4fdbf89">insert_station_data</a>(<a class="code" href="classdballe_1_1Data.html">Data</a>&amp; vals, <span class="keyword">const</span> <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp; opts=DBInsertOptions::defaults);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="classdballe_1_1DB.html#ad87698e1a84a7fa130ffa09ec481a1fd">  441</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classdballe_1_1DB.html#ad87698e1a84a7fa130ffa09ec481a1fd">insert_data</a>(<a class="code" href="classdballe_1_1Data.html">Data</a>&amp; vals, <span class="keyword">const</span> <a class="code" href="classdballe_1_1DBInsertOptions.html">DBInsertOptions</a>&amp; opts=DBInsertOptions::defaults);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;};</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;}</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassdballe_1_1DBInsertOptions_html_a02e9edb5d4bbb4199f38c49c0929ffe9"><div class="ttname"><a href="classdballe_1_1DBInsertOptions.html#a02e9edb5d4bbb4199f38c49c0929ffe9">dballe::DBInsertOptions::can_replace</a></div><div class="ttdeci">bool can_replace</div><div class="ttdoc">If true, then existing data can be rewritten, else data can only be added.</div><div class="ttdef"><b>Definition:</b> db.h:126</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_aca6a7a92bfc89c16e6c71333de2f4728"><div class="ttname"><a href="classdballe_1_1Transaction.html#aca6a7a92bfc89c16e6c71333de2f4728">dballe::Transaction::import_messages</a></div><div class="ttdeci">virtual void import_messages(const std::vector&lt; std::shared_ptr&lt; Message &gt;&gt; &amp;messages, const DBImportOptions &amp;opts=DBImportOptions::defaults)</div><div class="ttdoc">Import Messages into the DB-All.e database.</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_ad3f92251e33c49be6b85407e664a6cda"><div class="ttname"><a href="classdballe_1_1Transaction.html#ad3f92251e33c49be6b85407e664a6cda">dballe::Transaction::commit</a></div><div class="ttdeci">virtual void commit()=0</div><div class="ttdoc">Commit this transaction.</div></div>
<div class="ttc" id="aclassdballe_1_1CursorStation_html"><div class="ttname"><a href="classdballe_1_1CursorStation.html">dballe::CursorStation</a></div><div class="ttdoc">Cursor iterating over stations.</div><div class="ttdef"><b>Definition:</b> cursor.h:57</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_a0b087017defd50e3d6517bc4665553af"><div class="ttname"><a href="classdballe_1_1DB.html#a0b087017defd50e3d6517bc4665553af">dballe::DB::remove_station_data</a></div><div class="ttdeci">void remove_station_data(const Query &amp;query)</div><div class="ttdoc">Remove data from the database.</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_ad87698e1a84a7fa130ffa09ec481a1fd"><div class="ttname"><a href="classdballe_1_1DB.html#ad87698e1a84a7fa130ffa09ec481a1fd">dballe::DB::insert_data</a></div><div class="ttdeci">void insert_data(Data &amp;vals, const DBInsertOptions &amp;opts=DBInsertOptions::defaults)</div><div class="ttdoc">Insert data values into the database.</div></div>
<div class="ttc" id="aclassdballe_1_1Data_html"><div class="ttname"><a href="classdballe_1_1Data.html">dballe::Data</a></div><div class="ttdoc">Key/value store where keys are strings and values are wreport variables.</div><div class="ttdef"><b>Definition:</b> data.h:18</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_a520bdf757706c9130926f6194201bbf8"><div class="ttname"><a href="classdballe_1_1DB.html#a520bdf757706c9130926f6194201bbf8">dballe::DB::query_stations</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CursorStation &gt; query_stations(const Query &amp;query)</div><div class="ttdoc">Start a query on the station variables archive.</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html"><div class="ttname"><a href="classdballe_1_1Transaction.html">dballe::Transaction</a></div><div class="ttdef"><b>Definition:</b> db.h:150</div></div>
<div class="ttc" id="aclassdballe_1_1CursorSummary_html"><div class="ttname"><a href="classdballe_1_1CursorSummary.html">dballe::CursorSummary</a></div><div class="ttdoc">Cursor iterating over summary entries.</div><div class="ttdef"><b>Definition:</b> cursor.h:98</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_ada9963b0a96e69fe464f2ea9c8ed3d25"><div class="ttname"><a href="classdballe_1_1Transaction.html#ada9963b0a96e69fe464f2ea9c8ed3d25">dballe::Transaction::remove_station_data</a></div><div class="ttdeci">virtual void remove_station_data(const Query &amp;query)=0</div><div class="ttdoc">Remove data from the database.</div></div>
<div class="ttc" id="aclassdballe_1_1Message_html"><div class="ttname"><a href="classdballe_1_1Message.html">dballe::Message</a></div><div class="ttdoc">A bulletin that has been decoded and physically interpreted.</div><div class="ttdef"><b>Definition:</b> message.h:29</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_a5079d562c3a2181d1f7fade844cf4f88"><div class="ttname"><a href="classdballe_1_1DB.html#a5079d562c3a2181d1f7fade844cf4f88">dballe::DB::remove_data</a></div><div class="ttdeci">void remove_data(const Query &amp;query)</div><div class="ttdoc">Remove data from the database.</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_ad622c60ec0d9141d172bb5278a6a992c"><div class="ttname"><a href="classdballe_1_1Transaction.html#ad622c60ec0d9141d172bb5278a6a992c">dballe::Transaction::query_summary</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CursorSummary &gt; query_summary(const Query &amp;query)=0</div><div class="ttdoc">Query a summary of what the result would be for a query.</div></div>
<div class="ttc" id="aclassdballe_1_1DBImportOptions_html_aa142d0a9ce5e20deebfc58390524318c"><div class="ttname"><a href="classdballe_1_1DBImportOptions.html#aa142d0a9ce5e20deebfc58390524318c">dballe::DBImportOptions::import_attributes</a></div><div class="ttdeci">bool import_attributes</div><div class="ttdoc">Import variable attributes.</div><div class="ttdef"><b>Definition:</b> db.h:76</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_afec321babcbddaf238ff54ecc75a4c07"><div class="ttname"><a href="classdballe_1_1Transaction.html#afec321babcbddaf238ff54ecc75a4c07">dballe::Transaction::rollback</a></div><div class="ttdeci">virtual void rollback()=0</div><div class="ttdoc">Roll back this transaction.</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_a637d79b2f3865483b1d3f7e0813082d7"><div class="ttname"><a href="classdballe_1_1DB.html#a637d79b2f3865483b1d3f7e0813082d7">dballe::DB::import_messages</a></div><div class="ttdeci">void import_messages(const std::vector&lt; std::shared_ptr&lt; Message &gt;&gt; &amp;messages, const DBImportOptions &amp;opts=DBImportOptions::defaults)</div><div class="ttdoc">Import Messages into the DB-All.e database.</div></div>
<div class="ttc" id="aclassdballe_1_1DBImportOptions_html_a6a68d6b07320c0ff4450b159f959010e"><div class="ttname"><a href="classdballe_1_1DBImportOptions.html#a6a68d6b07320c0ff4450b159f959010e">dballe::DBImportOptions::update_station</a></div><div class="ttdeci">bool update_station</div><div class="ttdoc">Update station information.</div><div class="ttdef"><b>Definition:</b> db.h:85</div></div>
<div class="ttc" id="aclassdballe_1_1DBImportOptions_html"><div class="ttname"><a href="classdballe_1_1DBImportOptions.html">dballe::DBImportOptions</a></div><div class="ttdoc">Options controlling how messages are imported in the database.</div><div class="ttdef"><b>Definition:</b> db.h:65</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_ade40f6d2fa211279790c8dd0616ce26d"><div class="ttname"><a href="classdballe_1_1Transaction.html#ade40f6d2fa211279790c8dd0616ce26d">dballe::Transaction::query_station_data</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CursorStationData &gt; query_station_data(const Query &amp;query)=0</div><div class="ttdoc">Query the station variables in the database.</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_aaab812a3d2dbea710b692dbec4fdbf89"><div class="ttname"><a href="classdballe_1_1DB.html#aaab812a3d2dbea710b692dbec4fdbf89">dballe::DB::insert_station_data</a></div><div class="ttdeci">void insert_station_data(Data &amp;vals, const DBInsertOptions &amp;opts=DBInsertOptions::defaults)</div><div class="ttdoc">Insert station values into the database.</div></div>
<div class="ttc" id="aclassdballe_1_1DBConnectOptions_html_aedeccb349f6bca6f4d33facecd379026"><div class="ttname"><a href="classdballe_1_1DBConnectOptions.html#aedeccb349f6bca6f4d33facecd379026">dballe::DBConnectOptions::test_create</a></div><div class="ttdeci">static std::unique_ptr&lt; DBConnectOptions &gt; test_create(const char *backend=nullptr)</div><div class="ttdoc">Create a DBConnectOptions for running unit tests.</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_a9b3feb81a3d9101d75cd914bf9981cd3"><div class="ttname"><a href="classdballe_1_1DB.html#a9b3feb81a3d9101d75cd914bf9981cd3">dballe::DB::connect</a></div><div class="ttdeci">static std::shared_ptr&lt; DB &gt; connect(const DBConnectOptions &amp;opts)</div><div class="ttdoc">Create a new DB.</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_a937fd003e43822769926f72256287134"><div class="ttname"><a href="classdballe_1_1Transaction.html#a937fd003e43822769926f72256287134">dballe::Transaction::query_stations</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CursorStation &gt; query_stations(const Query &amp;query)=0</div><div class="ttdoc">Start a query on the station variables archive.</div></div>
<div class="ttc" id="aclassdballe_1_1DBConnectOptions_html_a27a520bd223a7ee907fb7cc8ba3fd782"><div class="ttname"><a href="classdballe_1_1DBConnectOptions.html#a27a520bd223a7ee907fb7cc8ba3fd782">dballe::DBConnectOptions::url</a></div><div class="ttdeci">std::string url</div><div class="ttdoc">URL to use to connect to the database.</div><div class="ttdef"><b>Definition:</b> db.h:25</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_a6053875d0e2e4c66cbae06320aa94aca"><div class="ttname"><a href="classdballe_1_1DB.html#a6053875d0e2e4c66cbae06320aa94aca">dballe::DB::remove_all</a></div><div class="ttdeci">void remove_all()</div><div class="ttdoc">Remove all data from the database.</div></div>
<div class="ttc" id="aclassdballe_1_1DBImportOptions_html_a556dea819c58dbef493a5528ea0bbe09"><div class="ttname"><a href="classdballe_1_1DBImportOptions.html#a556dea819c58dbef493a5528ea0bbe09">dballe::DBImportOptions::varlist</a></div><div class="ttdeci">std::vector&lt; wreport::Varcode &gt; varlist</div><div class="ttdoc">If not empty, import only the given data values.</div><div class="ttdef"><b>Definition:</b> db.h:99</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_ae1280aad235a65395fdc052114056971"><div class="ttname"><a href="classdballe_1_1Transaction.html#ae1280aad235a65395fdc052114056971">dballe::Transaction::import_message</a></div><div class="ttdeci">virtual void import_message(const Message &amp;message, const DBImportOptions &amp;opts=DBImportOptions::defaults)=0</div><div class="ttdoc">Import a Message into the DB-All.e database.</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_ac38c9da231c7a95b0b801ab3499166d6"><div class="ttname"><a href="classdballe_1_1DB.html#ac38c9da231c7a95b0b801ab3499166d6">dballe::DB::transaction</a></div><div class="ttdeci">virtual std::shared_ptr&lt; dballe::Transaction &gt; transaction(bool readonly=false)=0</div><div class="ttdoc">Begin a transaction on this database, and return a Transaction object that can be used to commit it.</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_af131269c54594b76983f37a1c3226291"><div class="ttname"><a href="classdballe_1_1Transaction.html#af131269c54594b76983f37a1c3226291">dballe::Transaction::query_messages</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CursorMessage &gt; query_messages(const Query &amp;query)=0</div><div class="ttdoc">Query the database returning the matching data as Message objects.</div></div>
<div class="ttc" id="aclassdballe_1_1DBConnectOptions_html"><div class="ttname"><a href="classdballe_1_1DBConnectOptions.html">dballe::DBConnectOptions</a></div><div class="ttdoc">Options controlling how to connect to a database.</div><div class="ttdef"><b>Definition:</b> db.h:18</div></div>
<div class="ttc" id="aclassdballe_1_1DBConnectOptions_html_a1564d05975144967bc64bf5ff0c6cb2d"><div class="ttname"><a href="classdballe_1_1DBConnectOptions.html#a1564d05975144967bc64bf5ff0c6cb2d">dballe::DBConnectOptions::reset_actions</a></div><div class="ttdeci">void reset_actions()</div><div class="ttdoc">Disable all the one-off actions set to perform on connection.</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html"><div class="ttname"><a href="classdballe_1_1DB.html">dballe::DB</a></div><div class="ttdef"><b>Definition:</b> db.h:297</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_a4b461ccc14061c66ef8545d1704b5090"><div class="ttname"><a href="classdballe_1_1Transaction.html#a4b461ccc14061c66ef8545d1704b5090">dballe::Transaction::remove_data</a></div><div class="ttdeci">virtual void remove_data(const Query &amp;query)=0</div><div class="ttdoc">Remove data from the database.</div></div>
<div class="ttc" id="aclassdballe_1_1DBImportOptions_html_a3941ac242723d2b4b4cc04eb9801ffcb"><div class="ttname"><a href="classdballe_1_1DBImportOptions.html#a3941ac242723d2b4b4cc04eb9801ffcb">dballe::DBImportOptions::overwrite</a></div><div class="ttdeci">bool overwrite</div><div class="ttdoc">Replace existing data.</div><div class="ttdef"><b>Definition:</b> db.h:94</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_ae9605daaf2582ad7f8806c95ec0c6182"><div class="ttname"><a href="classdballe_1_1Transaction.html#ae9605daaf2582ad7f8806c95ec0c6182">dballe::Transaction::remove_all</a></div><div class="ttdeci">virtual void remove_all()=0</div><div class="ttdoc">Remove all data from the database.</div></div>
<div class="ttc" id="aclassdballe_1_1DBInsertOptions_html_a8446961bc09c88628e98ac0bd6afd0eb"><div class="ttname"><a href="classdballe_1_1DBInsertOptions.html#a8446961bc09c88628e98ac0bd6afd0eb">dballe::DBInsertOptions::can_add_stations</a></div><div class="ttdeci">bool can_add_stations</div><div class="ttdoc">If false, it will not create a missing station record, and only data for existing stations can be add...</div><div class="ttdef"><b>Definition:</b> db.h:134</div></div>
<div class="ttc" id="aclassdballe_1_1DBConnectOptions_html_a697b4319a1b7c00b6460dc30922d7c16"><div class="ttname"><a href="classdballe_1_1DBConnectOptions.html#a697b4319a1b7c00b6460dc30922d7c16">dballe::DBConnectOptions::create</a></div><div class="ttdeci">static std::unique_ptr&lt; DBConnectOptions &gt; create(const std::string &amp;url)</div><div class="ttdoc">Create a DBConnectOptions parsing the given URL.</div></div>
<div class="ttc" id="aclassdballe_1_1DBInsertOptions_html"><div class="ttname"><a href="classdballe_1_1DBInsertOptions.html">dballe::DBInsertOptions</a></div><div class="ttdoc">Options controlling how values are inserted in the database.</div><div class="ttdef"><b>Definition:</b> db.h:123</div></div>
<div class="ttc" id="aclassdballe_1_1CursorStationData_html"><div class="ttname"><a href="classdballe_1_1CursorStationData.html">dballe::CursorStationData</a></div><div class="ttdoc">Cursor iterating over station data values.</div><div class="ttdef"><b>Definition:</b> cursor.h:67</div></div>
<div class="ttc" id="aclassdballe_1_1DBConnectOptions_html_ae929e2af142dbc3a4cf2362a369b6cee"><div class="ttname"><a href="classdballe_1_1DBConnectOptions.html#ae929e2af142dbc3a4cf2362a369b6cee">dballe::DBConnectOptions::wipe</a></div><div class="ttdeci">bool wipe</div><div class="ttdoc">Wipe database on connection.</div><div class="ttdef"><b>Definition:</b> db.h:28</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_accd40f7fd09f114d4b39ee36f872329e"><div class="ttname"><a href="classdballe_1_1DB.html#accd40f7fd09f114d4b39ee36f872329e">dballe::DB::query_messages</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CursorMessage &gt; query_messages(const Query &amp;query)</div><div class="ttdoc">Query the database returning the matching data as Message objects.</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_a0056aac1a7d2494e5d2162386f7bae2b"><div class="ttname"><a href="classdballe_1_1DB.html#a0056aac1a7d2494e5d2162386f7bae2b">dballe::DB::import_message</a></div><div class="ttdeci">void import_message(const Message &amp;message, const DBImportOptions &amp;opts=DBImportOptions::defaults)</div><div class="ttdoc">Import a Message into the DB-All.e database.</div></div>
<div class="ttc" id="aclassdballe_1_1CursorData_html"><div class="ttname"><a href="classdballe_1_1CursorData.html">dballe::CursorData</a></div><div class="ttdoc">Cursor iterating over data values.</div><div class="ttdef"><b>Definition:</b> cursor.h:78</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_a0f616c83a0b6b8a49aad1f414e96eeb8"><div class="ttname"><a href="classdballe_1_1Transaction.html#a0f616c83a0b6b8a49aad1f414e96eeb8">dballe::Transaction::insert_data</a></div><div class="ttdeci">virtual void insert_data(Data &amp;data, const DBInsertOptions &amp;opts=DBInsertOptions::defaults)=0</div><div class="ttdoc">Insert data values into the database.</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_a86fa09d2e05c16b8db73a2afd848497b"><div class="ttname"><a href="classdballe_1_1Transaction.html#a86fa09d2e05c16b8db73a2afd848497b">dballe::Transaction::insert_station_data</a></div><div class="ttdeci">virtual void insert_station_data(Data &amp;data, const DBInsertOptions &amp;opts=DBInsertOptions::defaults)=0</div><div class="ttdoc">Insert station values into the database.</div></div>
<div class="ttc" id="aclassdballe_1_1CursorMessage_html"><div class="ttname"><a href="classdballe_1_1CursorMessage.html">dballe::CursorMessage</a></div><div class="ttdoc">Cursor iterating over messages.</div><div class="ttdef"><b>Definition:</b> cursor.h:118</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_adc27d0405cd5826192fd71e585ab643d"><div class="ttname"><a href="classdballe_1_1Transaction.html#adc27d0405cd5826192fd71e585ab643d">dballe::Transaction::rollback_nothrow</a></div><div class="ttdeci">virtual void rollback_nothrow() noexcept=0</div><div class="ttdoc">Roll back this transaction.</div></div>
<div class="ttc" id="aclassdballe_1_1DBImportOptions_html_a60761c3d0a12e177a288dd398aee01de"><div class="ttname"><a href="classdballe_1_1DBImportOptions.html#a60761c3d0a12e177a288dd398aee01de">dballe::DBImportOptions::report</a></div><div class="ttdeci">std::string report</div><div class="ttdoc">Report name to use to import data.</div><div class="ttdef"><b>Definition:</b> db.h:73</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_a9ab1e39d7a23d507cdfb8e6bb2c06b48"><div class="ttname"><a href="classdballe_1_1DB.html#a9ab1e39d7a23d507cdfb8e6bb2c06b48">dballe::DB::query_summary</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CursorSummary &gt; query_summary(const Query &amp;query)</div><div class="ttdoc">Query a summary of what the result would be for a query.</div></div>
<div class="ttc" id="aclassdballe_1_1Query_html"><div class="ttname"><a href="classdballe_1_1Query.html">dballe::Query</a></div><div class="ttdoc">Query used to filter DB-All.e data.</div><div class="ttdef"><b>Definition:</b> query.h:15</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_a042eee48a079108eef10da6fddc66642"><div class="ttname"><a href="classdballe_1_1DB.html#a042eee48a079108eef10da6fddc66642">dballe::DB::query_station_data</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CursorStationData &gt; query_station_data(const Query &amp;query)</div><div class="ttdoc">Query the station variables in the database.</div></div>
<div class="ttc" id="aclassdballe_1_1DB_html_a014934becffcb1626a23318928a990b7"><div class="ttname"><a href="classdballe_1_1DB.html#a014934becffcb1626a23318928a990b7">dballe::DB::query_data</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CursorData &gt; query_data(const Query &amp;query)</div><div class="ttdoc">Query the database.</div></div>
<div class="ttc" id="aclassdballe_1_1Transaction_html_af461cd377b1a6e3f1d00e7b52f749724"><div class="ttname"><a href="classdballe_1_1Transaction.html#af461cd377b1a6e3f1d00e7b52f749724">dballe::Transaction::query_data</a></div><div class="ttdeci">virtual std::unique_ptr&lt; CursorData &gt; query_data(const Query &amp;query)=0</div><div class="ttdoc">Query the database.</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
